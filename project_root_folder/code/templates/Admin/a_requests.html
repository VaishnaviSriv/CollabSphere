 {% extends "Admin/a_base.html" %}

{% block title %}Admin Requests Page{% endblock %}

{% block name%}CollabSphere{% endblock %}

{% block sphere%}{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <h1 class="text-center mb-4" style="color: black; font-family: roboto;font-weight: bolder; font-size: 40px;">Ad-Requests</h1>
        <div class="col-xl-12 col-12 mb-5">
            <div class="card h-100 card-lg">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table
                            class="table table-centered table-hover table-borderless mb-0 table-with-checkbox text-nowrap"
                        >
                            <thead class="bg-light">
                                <tr>
                                    <th>Sr.No.</th>
                                    <th>Title</th>
                                    <th>Description</th>
                                    <th>Status</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for request in requests %}
                                    <tr data-search="{{ request.title }}">
                                        <td>{{ loop.index }}</td>
                                        <td>{{ request.title }}</td>
                                        <td>{{ request.description }}</td>
                                        <td>{{ request.status.name }}</td>
                                        <td> 
                                            <a class="link-light-secondary fw-bold" href="{{ url_for('delete_request', request_id=request.request_id) }}" style='color:red; text-decoration:none;' onclick="return confirm('Are you sure you want to delete this Sponsor?')">
                                                </i>Delete
                                            </a>
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %} 
    </div>
</div>
{% endblock %}